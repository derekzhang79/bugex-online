{% extends "bugex_webapp/base.html" %}

{% block title %}BugEx Login Page{% endblock title %}

{% block content %}
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span1"></div>
            <div class="span1"></div>

            <div class="span8">
                <div id="welcomeText">
                    <h1>Login Page</h1>
                </div>

                <div class="row-fluid">
                    <h3>Please log in</h3>

                    <form class="form-horizontal" method="post" accept-charset="UTF-8" action="{% url login-page %}">{% csrf_token %}

                        {% if error == "not_active" %}
                            <div class="alert alert-error fade in">
                                <a class="close" data-dismiss="alert" href="#">&times;</a>
                                Your account has been disabled. Please contact the administrator.
                            </div>

                        {% elif error == "not_authenticated" %}
                            <div class="alert alert-error fade in">
                                <a class="close" data-dismiss="alert" href="#">&times;</a>
                                Your username and password didn't match. Please try again.
                            </div>
                        {% endif %}

                        <fieldset>

                            {% if error == "not_authenticated" %}
                                <div class="control-group error">
                            {% else %}
                                <div class="control-group">
                            {% endif %}
                                    <label class="control-label" for="{{ form.username.label }}">{{ form.username.label }}</label>
                                    <div class="controls">
                                        <input class="input-xxlarge" id="{{ form.username.label }}" type="text" name="{{ form.username.html_name }}" maxlength="100" />
                                    </div>
                                </div>

                            {% if error == "not_authenticated" %}
                                <div class="control-group error">
                            {% else %}
                                <div class="control-group">
                            {% endif %}
                                    <label class="control-label" for="{{ form.password.label }}">{{ form.password.label }}</label>
                                    <div class="controls">
                                        <input class="input-xxlarge" id="{{ form.password.label }}" type="password" name="{{ form.password.html_name }}" maxlength="100" />
                                    </div>
                                </div>


                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary"><i class="icon-user icon-white"></i> Login</button>
                                    <input type="hidden" name="next" value="/">
                                </div>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}